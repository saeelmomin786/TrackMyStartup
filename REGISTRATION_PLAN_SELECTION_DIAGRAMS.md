# Registration Flow & Feature Locking - Visual Diagrams

## 1ï¸âƒ£ Complete Registration Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER REGISTRATION FLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                        LANDING PAGE
                             â”‚
                             â–¼
                    [Register Button]
                             â”‚
                             â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  FORM 1: BasicRegistrationStep    â”‚
            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
            â”‚  â”‚ â€¢ Email                    â”‚  â”‚
            â”‚  â”‚ â€¢ Password                 â”‚  â”‚
            â”‚  â”‚ â€¢ Name                     â”‚  â”‚
            â”‚  â”‚ â€¢ Role Selection           â”‚  â”‚
            â”‚  â”‚ â€¢ Role-specific fields     â”‚  â”‚
            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
            â”‚          [Next Button]           â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ FORM 2: CompleteRegistrationPage     â”‚
            â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
            â”‚ â”‚ 1. DOCUMENTS                     â”‚ â”‚
            â”‚ â”‚    â€¢ Government ID (mandatory)   â”‚ â”‚
            â”‚ â”‚    â€¢ Role-specific doc           â”‚ â”‚
            â”‚ â”‚    â€¢ License (if needed)         â”‚ â”‚
            â”‚ â”‚    â€¢ Logo (if needed)            â”‚ â”‚
            â”‚ â”‚                                  â”‚ â”‚
            â”‚ â”‚ 2. PROFILE DATA                  â”‚ â”‚
            â”‚ â”‚    â€¢ Country                     â”‚ â”‚
            â”‚ â”‚    â€¢ Company Type                â”‚ â”‚
            â”‚ â”‚    â€¢ Registration Date           â”‚ â”‚
            â”‚ â”‚    â€¢ Currency                    â”‚ â”‚
            â”‚ â”‚    â€¢ Advisor Codes (if any)      â”‚ â”‚
            â”‚ â”‚                                  â”‚ â”‚
            â”‚ â”‚ 3. ROLE-SPECIFIC DATA            â”‚ â”‚
            â”‚ â”‚    Founders (Startup)            â”‚ â”‚
            â”‚ â”‚    Firm Name (Advisor)           â”‚ â”‚
            â”‚ â”‚    Center Name (Facilitator)     â”‚ â”‚
            â”‚ â”‚                                  â”‚ â”‚
            â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
            â”‚      [Complete Registration]         â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ DATABASE UPDATES                     â”‚
            â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
            â”‚ â”‚ â€¢ Save to user_profiles          â”‚ â”‚
            â”‚ â”‚ â€¢ Upload documents to storage    â”‚ â”‚
            â”‚ â”‚ â€¢ Create startup (if Startup)    â”‚ â”‚
            â”‚ â”‚ â€¢ Set is_profile_complete=true   â”‚ â”‚
            â”‚ â”‚ â€¢ Save investors, advisors link  â”‚ â”‚
            â”‚ â”‚                                  â”‚ â”‚
            â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
            â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
            â•‘  SUBSCRIPTION PLANS PAGE ğŸª        â•‘
            â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
            â•‘  â”‚ FREE â”‚ BASIC â”‚ PREMIUM       â”‚  â•‘
            â•‘  â”‚ â‚¬0   â”‚ â‚¬5/mo â”‚ â‚¬20/mo       â”‚  â•‘
            â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
            â•‘      [User Selects Plan]           â•‘
            â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 â”‚
                    â–¼                 â–¼
           FREE PLAN          BASIC/PREMIUM
           (No Payment)       (Payment Flow)
                    â”‚                 â”‚
                    â”‚                 â–¼
                    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      â”‚  PAYMENT PAGE    â”‚
                    â”‚      â”‚ â€¢ Select gateway â”‚
                    â”‚      â”‚ â€¢ Enter details  â”‚
                    â”‚      â”‚ â€¢ Process paymentâ”‚
                    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                 â”‚
                    â”‚                 â–¼
                    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      â”‚  PAYMENT SUCCESS â”‚
                    â”‚      â”‚ â€¢ Save to DB     â”‚
                    â”‚      â”‚ â€¢ Send email     â”‚
                    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  SAVE SUBSCRIPTION TO DATABASE   â”‚
            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
            â”‚  â”‚ subscriptions table:         â”‚â”‚
            â”‚  â”‚ â€¢ user_id                   â”‚â”‚
            â”‚  â”‚ â€¢ plan_id                   â”‚â”‚
            â”‚  â”‚ â€¢ plan_tier (free/basic/..) â”‚â”‚
            â”‚  â”‚ â€¢ current_period_start      â”‚â”‚
            â”‚  â”‚ â€¢ current_period_end        â”‚â”‚
            â”‚  â”‚ â€¢ payment_status            â”‚â”‚
            â”‚  â”‚ â€¢ auto_renew                â”‚â”‚
            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  MAIN DASHBOARD (LOGIN PAGE)     â”‚
            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
            â”‚  â”‚ â€¢ Load startup data          â”‚â”‚
            â”‚  â”‚ â€¢ Apply FeatureGuard checks  â”‚â”‚
            â”‚  â”‚ â€¢ Show/hide locked features  â”‚â”‚
            â”‚  â”‚ â€¢ Display plan tier badge    â”‚â”‚
            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                  âœ… USER CAN NOW USE PLATFORM
```

---

## 2ï¸âƒ£ Feature Access Control Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          FEATURE ACCESS CONTROL SYSTEM                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

USER TRIES TO ACCESS FEATURE
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ FeatureGuard    â”‚
    â”‚ component       â”‚
    â”‚ wraps feature   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Check: canAccessFeature()            â”‚
    â”‚                                      â”‚
    â”‚ Input:                               â”‚
    â”‚  â€¢ userId                            â”‚
    â”‚  â€¢ featureName                       â”‚
    â”‚                                      â”‚
    â”‚ Action:                              â”‚
    â”‚  1. Get user's plan_tier from        â”‚
    â”‚     subscriptions table              â”‚
    â”‚  2. Query plan_features table        â”‚
    â”‚                                      â”‚
    â”‚ SQL Query:                           â”‚
    â”‚  SELECT is_enabled                   â”‚
    â”‚  FROM plan_features                  â”‚
    â”‚  WHERE plan_tier = 'free'            â”‚
    â”‚  AND feature_name = 'portfolio_...'  â”‚
    â”‚                                      â”‚
    â”‚  Result: true or false               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
      â”‚             â”‚
      â–¼             â–¼
  âœ… ALLOWED   âŒ BLOCKED
      â”‚             â”‚
      â”‚             â–¼
      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚    â”‚ UpgradePrompt      â”‚
      â”‚    â”‚ component          â”‚
      â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
      â”‚    â”‚ â”‚ ğŸ”’ LOCKED     â”‚ â”‚
      â”‚    â”‚ â”‚ Portfolio... isâ”‚ â”‚
      â”‚    â”‚ â”‚ available in   â”‚ â”‚
      â”‚    â”‚ â”‚ Basic Plan     â”‚ â”‚
      â”‚    â”‚ â”‚                â”‚ â”‚
      â”‚    â”‚ â”‚ Current: Free  â”‚ â”‚
      â”‚    â”‚ â”‚ Required: Basicâ”‚ â”‚
      â”‚    â”‚ â”‚                â”‚ â”‚
      â”‚    â”‚ â”‚ [Upgrade Now]  â”‚ â”‚
      â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
      â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚             â”‚
      â”‚             â–¼
      â”‚    [User clicks Upgrade]
      â”‚             â”‚
      â”‚             â–¼
      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚    â”‚ SubscriptionPlansPageâ”‚
      â”‚    â”‚ Show plans again     â”‚
      â”‚    â”‚ to re-select         â”‚
      â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ SHOW FEATURE    â”‚
  â”‚ CONTENT         â”‚
  â”‚ â€¢ Fundraising   â”‚
  â”‚ â€¢ Grants        â”‚
  â”‚ â€¢ CRM           â”‚
  â”‚ â€¢ AI Matching   â”‚
  â”‚ etc.            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3ï¸âƒ£ Feature Locking Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FEATURE ACCESS BY PLAN TIER                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  Feature Name                  â”‚ Free â”‚ Basic â”‚ Premium â”‚ Storage Limit  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Dashboard                      â”‚  âœ…  â”‚  âœ…   â”‚   âœ…    â”‚   100 MB       â”‚
â”‚  Financials                     â”‚  âœ…  â”‚  âœ…   â”‚   âœ…    â”‚   100 MB       â”‚
â”‚  Compliance                     â”‚  âœ…  â”‚  âœ…   â”‚   âœ…    â”‚   100 MB       â”‚
â”‚  Profile Management             â”‚  âœ…  â”‚  âœ…   â”‚   âœ…    â”‚   100 MB       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Portfolio Fundraising          â”‚  âŒ  â”‚  âœ…   â”‚   âœ…    â”‚   1 GB         â”‚
â”‚  Grants Draft Assistant         â”‚  âŒ  â”‚  âœ…   â”‚   âœ…    â”‚   1 GB         â”‚
â”‚  Add Grants to CRM              â”‚  âŒ  â”‚  âœ…   â”‚   âœ…    â”‚   1 GB         â”‚
â”‚  Investor AI Matching           â”‚  âŒ  â”‚  âœ…   â”‚   âœ…    â”‚   1 GB         â”‚
â”‚  Investor CRM                   â”‚  âŒ  â”‚  âœ…   â”‚   âœ…    â”‚   1 GB         â”‚
â”‚  CRM Access (Full)              â”‚  âŒ  â”‚  âœ…   â”‚   âœ…    â”‚   1 GB         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Active Fundraising             â”‚  âŒ  â”‚  âŒ   â”‚   âœ…    â”‚   10 GB        â”‚
â”‚  Fund Utilization Report        â”‚  âŒ  â”‚  âŒ   â”‚   âœ…    â”‚   10 GB        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  PRICE                          â”‚ â‚¬0   â”‚ â‚¬5/mo â”‚ â‚¬20/mo  â”‚                â”‚
â”‚  MONTHLY COST                   â”‚ Free â”‚ â‚¬5    â”‚ â‚¬20     â”‚                â”‚
â”‚  YEARLY COST                    â”‚ Free â”‚ â‚¬48   â”‚ â‚¬160    â”‚                â”‚
â”‚  SAVINGS (yearly vs monthly)    â”‚  -   â”‚ â‚¬12   â”‚ â‚¬80     â”‚                â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4ï¸âƒ£ Database Schema - Plan Features

```
plan_features TABLE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id (UUID)                                       â”‚
â”‚ plan_tier (VARCHAR)    â”€â”€â”€ 'free'               â”‚
â”‚                             'basic'             â”‚
â”‚                             'premium'           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ feature_name (VARCHAR)                          â”‚
â”‚                        â”€â”€â”€ 'dashboard'          â”‚
â”‚                             'financials'        â”‚
â”‚                             'compliance'        â”‚
â”‚                             'profile'           â”‚
â”‚                             'portfolio_fundrais'â”‚
â”‚                             'grants_draft'      â”‚
â”‚                             'grants_add_to_crm' â”‚
â”‚                             'investor_ai_match' â”‚
â”‚                             'investor_add_to_cm'â”‚
â”‚                             'crm_access'        â”‚
â”‚                             'fundraising_active'â”‚
â”‚                             'fund_util_report'  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ is_enabled (BOOLEAN)   â”€â”€â”€ true = accessible   â”‚
â”‚                             false = locked      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ created_at (TIMESTAMP)                          â”‚
â”‚ updated_at (TIMESTAMP)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

EXAMPLE DATA:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ plan_tier â”‚ feature_name  â”‚ is_enabled     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ 'free'    â”‚ 'dashboard'   â”‚ true           â”‚
â”‚ 2  â”‚ 'basic'   â”‚ 'dashboard'   â”‚ true           â”‚
â”‚ 3  â”‚ 'premium' â”‚ 'dashboard'   â”‚ true           â”‚
â”‚ 4  â”‚ 'free'    â”‚ 'crm_access'  â”‚ false   âŒ     â”‚
â”‚ 5  â”‚ 'basic'   â”‚ 'crm_access'  â”‚ true    âœ…     â”‚
â”‚ 6  â”‚ 'premium' â”‚ 'crm_access'  â”‚ true    âœ…     â”‚
â”‚ 7  â”‚ 'premium' â”‚ 'fundrais_act'â”‚ true    âœ…     â”‚
â”‚ 8  â”‚ 'basic'   â”‚ 'fundrais_act'â”‚ false   âŒ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5ï¸âƒ£ Feature Guard Component Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         FEATUREGUARD COMPONENT LOGIC                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

<FeatureGuard 
  feature="portfolio_fundraising"
  userId={currentUser.id}
>
  <YourContent />
</FeatureGuard>
â”‚
â”œâ”€ On Mount:
â”‚  â”‚
â”‚  â”œâ”€ Get user's plan_tier from subscriptions table
â”‚  â”‚
â”‚  â””â”€ Call featureAccessService.canAccessFeature()
â”‚
â”œâ”€ Check:
â”‚  â”‚
â”‚  â””â”€ Query: SELECT is_enabled FROM plan_features
â”‚      WHERE plan_tier = ? 
â”‚      AND feature_name = 'portfolio_fundraising'
â”‚
â””â”€ Result:
   â”‚
   â”œâ”€ If is_enabled = true:
   â”‚  â””â”€ Render <YourContent />
   â”‚
   â””â”€ If is_enabled = false:
      â””â”€ Render <UpgradePrompt feature="..." />
         (shows locked feature message)
```

---

## 6ï¸âƒ£ Payment Flow for Paid Plans

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PAYMENT FLOW (Basic/Premium Plans)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

USER SELECTS BASIC/PREMIUM PLAN
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Payment Page               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ 1. Detect Country    â”‚   â”‚ â† getUserCountry()
â”‚ â”‚ 2. Select Gateway    â”‚   â”‚ â† selectPaymentGateway()
â”‚ â”‚    â€¢ Stripe (Global) â”‚   â”‚
â”‚ â”‚    â€¢ Razorpay (India)â”‚   â”‚
â”‚ â”‚    â€¢ Local gateway   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Display Payment Form       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Country: India âœ“     â”‚   â”‚
â”‚ â”‚ Gateway: Razorpay    â”‚   â”‚
â”‚ â”‚ Currency: INR        â”‚   â”‚
â”‚ â”‚ Price: â‚¹5,000        â”‚   â”‚
â”‚ â”‚                      â”‚   â”‚
â”‚ â”‚ [Pay â‚¹5,000]         â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Enters Payment Info   â”‚
â”‚ â€¢ Card Details             â”‚
â”‚ â€¢ UPI                      â”‚
â”‚ â€¢ Wallet                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Payment Processed          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ âœ… Payment Success   â”‚   â”‚
â”‚ â”‚    Ref: #TXN123456   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save to Database               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ INSERT subscriptions {   â”‚   â”‚
â”‚ â”‚   user_id,              â”‚   â”‚
â”‚ â”‚   plan_id,              â”‚   â”‚
â”‚ â”‚   plan_tier: 'basic',   â”‚   â”‚
â”‚ â”‚   payment_status: 'paid'â”‚   â”‚
â”‚ â”‚   current_period_start, â”‚   â”‚
â”‚ â”‚   current_period_end,   â”‚   â”‚
â”‚ â”‚   auto_renew: true      â”‚   â”‚
â”‚ â”‚ }                       â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Send Confirmation Email    â”‚
â”‚ â€¢ Order details            â”‚
â”‚ â€¢ Invoice PDF              â”‚
â”‚ â€¢ Receipt                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Redirect to Dashboard      â”‚
â”‚ âœ… All features unlocked!  â”‚
â”‚ âœ… Plan: Basic Plan        â”‚
â”‚ âœ… Renews: [Date]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7ï¸âƒ£ FeatureGuard Usage Examples

```typescript
// Example 1: Portfolio Fundraising (Basic+)
<FeatureGuard 
  feature="portfolio_fundraising"
  userId={currentUser?.id}
>
  <PortfolioFundraisingComponent />
</FeatureGuard>

// Example 2: CRM Access (Basic+)
<FeatureGuard 
  feature="crm_access"
  userId={currentUser?.id}
>
  <CRMDashboard />
</FeatureGuard>

// Example 3: Active Fundraising (Premium only)
<FeatureGuard 
  feature="fundraising_active"
  userId={currentUser?.id}
>
  <ActiveFundraisingTools />
</FeatureGuard>

// What user sees if locked:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”’ PREMIUM FEATURE LOCKED       â”‚
â”‚                                 â”‚
â”‚ "Portfolio Fundraising" is      â”‚
â”‚ available in the Basic Plan     â”‚
â”‚                                 â”‚
â”‚ Current Plan: Free (â‚¬0)         â”‚
â”‚ Required Plan: Basic (â‚¬5/mo)    â”‚
â”‚                                 â”‚
â”‚ [Upgrade Now]    [View Plans]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Query Flow: User Accesses Locked Feature

```
1ï¸âƒ£  FEATURE REQUEST
    User clicks "Portfolio" button
        â†“
2ï¸âƒ£  FEATUREGUARD CHECK
    <FeatureGuard feature="portfolio_fundraising">
        â†“
3ï¸âƒ£  GET USER PLAN TIER
    SELECT plan_tier FROM subscriptions
    WHERE user_id = 'user-123'
    Result: 'free'
        â†“
4ï¸âƒ£  CHECK FEATURE ACCESS
    SELECT is_enabled FROM plan_features
    WHERE plan_tier = 'free'
    AND feature_name = 'portfolio_fundraising'
    Result: false âŒ
        â†“
5ï¸âƒ£  RENDER UPGRADE PROMPT
    <UpgradePrompt 
      feature="portfolio_fundraising"
      currentPlan="free"
      requiredPlan="basic"
    />
        â†“
6ï¸âƒ£  USER SEES LOCKED MESSAGE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸ”’ Premium Feature Locked    â”‚
    â”‚                              â”‚
    â”‚ Portfolio Fundraising is     â”‚
    â”‚ available in the Basic Plan  â”‚
    â”‚                              â”‚
    â”‚ [Upgrade Now]                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
7ï¸âƒ£  USER CLICKS UPGRADE
        â†“
8ï¸âƒ£  SHOW SUBSCRIPTION PLANS
    SubscriptionPlansPage opens
    User selects Basic Plan
        â†“
9ï¸âƒ£  PAYMENT PROCESSING
    User enters payment details
        â†“
ğŸ”Ÿ  SAVE SUBSCRIPTION
    UPDATE subscriptions
    SET plan_tier = 'basic'
        â†“
1ï¸âƒ£1ï¸âƒ£ FEATURE UNLOCKED
    Next check: is_enabled = true âœ…
        â†“
1ï¸âƒ£2ï¸âƒ£ RENDER FEATURE CONTENT
    <PortfolioFundraisingComponent />
```

---

This visual guide shows the complete flow from registration through plan selection and feature access control!
